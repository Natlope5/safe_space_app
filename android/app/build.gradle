plugins {
    id "com.android.application"
    id "kotlin-android"
    id "dev.flutter.flutter-gradle-plugin"
    id 'com.google.gms.google-services'
}

android {
    aaptOptions {
        ignoreAssetsPattern "!*.svn:!*.git:!.ds_store:!*~"
    }
    namespace = "com.example.safe_space_app"
    compileSdk = 35

    ndkVersion '26.1.10909125'


    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_17  // Java 17 compatibility
        targetCompatibility = JavaVersion.VERSION_17
        coreLibraryDesugaringEnabled true
    }

    kotlinOptions {
        jvmTarget = "17"
    }

    defaultConfig {
        multiDexEnabled true
        applicationId = "com.example.safe_space_app"
        minSdkVersion 23
        targetSdkVersion 35
        versionCode 1
        versionName "1.0"

        packagingOptions {
            doNotStrip '**/*.so'
        }
    }
        tasks.withType(JavaCompile) {
            options.compilerArgs << "-Xlint:deprecation"
            options.compilerArgs << "-Xlint:unchecked"
        }

        flutter {
            source = "../.." // Path to Flutter project source
        }
    }
    dependencies {
        implementation platform('com.google.firebase:firebase-bom:33.5.1')  // Firebase BoM

        // Firebase dependencies
        implementation 'com.google.firebase:firebase-auth'         // Firebase Authentication
        implementation 'com.google.firebase:firebase-database'     // Firebase Realtime Database
        implementation 'com.google.firebase:firebase-analytics'    // Firebase Analytics
        implementation 'com.google.firebase:firebase-firestore'    // Firebase Firestore
        implementation 'com.google.firebase:firebase-storage'      // Firebase Storage
        implementation 'com.google.firebase:firebase-messaging'    // Firebase Cloud Messaging
        implementation 'com.google.firebase:firebase-dynamic-links' // Firebase Dynamic Links

        coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:2.1.2'
        // Desugaring support for Java 17

        implementation 'androidx.appcompat:appcompat:1.7.0'              // AndroidX AppCompat
        implementation 'androidx.multidex:multidex:2.0.1'                // Multidex support
        implementation "androidx.window:window:1.3.0"                    // Jetpack Window API
    }
